<!-- <ion-app>

  <ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">This is the menu content.</ion-content>
</ion-menu>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Menu</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding"> Tap the button in the toolbar to open the menu. </ion-content>
</div>

  <ion-router-outlet>
    
  </ion-router-outlet>
</ion-app> -->


<ion-app>
  <ion-menu contentId="main-content" #menu>
    <ion-header>
      <ion-toolbar>
        <ion-title>Menu</ion-title>
      </ion-toolbar>
      <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-messaging.js"></script>

    </ion-header>
    <ion-content   class="ion-padding">
      <!-- <ion-item  [routerDirection]="'root'" [routerLink]="'/inicio-sesion'" (click)="menu.close()">
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="home"></mat-icon>
        <ion-icon slot="start" name="create"  ></ion-icon>
        <ion-label> Inicio sesión </ion-label>
      </ion-item> -->
      <ion-item  [routerDirection]="'root'" [routerLink]="'/perfil'" (click)="menu.close()">
        <ion-icon slot="start" name="create"></ion-icon>
        <ion-label> Perfil </ion-label>
      </ion-item>
      <ion-item  [routerDirection]="'root'" [routerLink]="'/registro-vehiculo'" (click)="menu.close()">
        <ion-icon slot="start" name="create"></ion-icon>
        <ion-label> Registro Vehículos</ion-label>
      </ion-item>
      <ion-item  [routerDirection]="'root'" [routerLink]="'/registro-mantencion'" (click)="menu.close()">
        <ion-icon slot="start" name="create"></ion-icon>
        <ion-label> Registro Mantenciones</ion-label>
      </ion-item>
      <ion-item  [routerDirection]="'root'" [routerLink]="'/registro-citas'" (click)="menu.close()">
        <ion-icon slot="start" name="create"></ion-icon>
        <ion-label> Registro Citas</ion-label>
      </ion-item>
      <ion-item  [routerDirection]="'root'" [routerLink]="'/lista-citas'" (click)="menu.close()">
        <ion-icon slot="start" name="create"></ion-icon>
      <ion-label> Lista Citas</ion-label>
    </ion-item>
    <ion-item  [routerDirection]="'root'" [routerLink]="'/historial'" (click)="menu.close()">
      <ion-icon slot="start" name="create"></ion-icon>
      <ion-label> Historial Mantenciones</ion-label>
    </ion-item>
    <ion-item  [routerDirection]="'root'" [routerLink]="'/login'" (click)="menu.close()">
      <ion-icon slot="start" name="create"></ion-icon>
      <ion-label>Cerrar Sesión</ion-label>
    </ion-item>

    <script>
      // Tu configuración de Firebase
      const firebaseConfig = {
          apiKey: "AIzaSyAszd6Ddo-ui65jNTHugdBGFDXVAyj45wM",
          authDomain: "portafolio-car.firebaseapp.com",
          projectId: "portafolio-car",
          storageBucket: "portafolio-car.appspot.com",
          messagingSenderId: "910148873121",
          appId: "1:910148873121:web:a525bdc95cb913f02a79e0",
      };

      // Inicializa Firebase
      const app = firebase.initializeApp(firebaseConfig);
      const messaging = firebase.messaging();

      // Solicitar permiso para enviar notificaciones
      messaging.requestPermission()
        .then(() => messaging.getToken())
        .then((token) => {
            console.log('Token de FCM:', token);
            this.handleFCMToken(token);  // Llamada a la función que envía el token
        })
        .catch((error) => {
            console.error('Error al obtener el token:', error);
        });

      // Manejar la recepción de notificaciones en primer plano
      messaging.onMessage((payload) => {
          console.log('Mensaje recibido. ', payload);
          // Mostrar la notificación aquí, si es necesario
      });
  </script>


    </ion-content>

</ion-menu>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>C.A.R</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-router-outlet></ion-router-outlet>
</div>


</ion-app>